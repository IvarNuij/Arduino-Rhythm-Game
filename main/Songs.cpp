#include "Songs.h"

Songs::Songs(){

}

void Songs::playSong(){
  
}

void Songs::update(SpeakerManager* speakerManager, Time* time){

  if (timeTillNextNote <= 0){
    NoteData note = getNoteData(currentIndex);
    timeTillNextNote = note.timeTillNextNote;
    speakerManager->playNote(Note(note.note, note.length, note.timeTillNextNote));
    currentIndex++;
  }
  else{
    timeTillNextNote -= time->updateTime;
  }
}

NoteData Songs::getNoteData(int index) {
  NoteData noteDataEntry;
  memcpy_P(&noteDataEntry, &songData[index], sizeof(NoteData));
  noteDataEntry.note = pgm_read_word_near(&songData[index].note);
  noteDataEntry.length = pgm_read_word_near(&songData[index].length);
  noteDataEntry.timeTillNextNote = pgm_read_word_near(&songData[index].timeTillNextNote);
  return noteDataEntry;
}

const NoteData songData[] PROGMEM = {
{NoteB2, 429, 429},
{NoteB2, 429, 0},
{NoteB2, 429, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteCS5, 202, 202},
{NoteCS5, 202, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteFS4, 199, 199},
{NoteFS4, 199, 0},
{NoteGS3, 234, 234},
{NoteGS3, 234, 0},
{NoteGS3, 200, 200},
{NoteGS3, 200, 0},
{NoteGS3, 197, 197},
{NoteGS3, 197, 0},
{NoteFS3, 567, 56},
{NoteFS3, 567, 0},
{NoteFS3, 234, 178},
{NoteFS3, 390, 156},
{NoteFS4, 609, 67},
{NoteFS4, 200, 133},
{NoteFS4, 200, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteCS5, 202, 202},
{NoteCS5, 202, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteFS4, 199, 199},
{NoteFS4, 199, 0},
{NoteGS3, 1554, 1554},
{NoteGS3, 1554, 0},
{NoteGS3, 1554, 0},
{NoteGS3, 1554, 0},
{NoteG3, 479, 479},
{NoteG3, 479, 0},
{NoteG3, 479, 0},
{NoteG3, 509, 30},
{NoteFS3, 400, 400},
{NoteFS3, 400, 0},
{NoteFS3, 400, 0},
{NoteFS3, 400, 0},
{NoteA2, 234, 234},
{NoteA2, 234, 0},
{NoteE4, 167, 167},
{NoteE4, 197, 30},
{NoteE4, 197, 0},
{NoteFS4, 202, 202},
{NoteE3, 197, 197},
{NoteE3, 197, 0},
{NoteGS3, 199, 199},
{NoteGS3, 199, 0},
{NoteE4, 200, 200},
{NoteE4, 200, 0},
{NoteE4, 200, 0},
{NoteFS3, 570, 60},
{NoteFS3, 570, 0},
{NoteFS3, 434, 374},
{NoteFS3, 434, 0},
{NoteCS4, 197, 197},
{NoteCS4, 197, 0},
{NoteD2, 234, 234},
{NoteD2, 234, 0},
{NoteD2, 234, 0},
{NoteD2, 200, 200},
{NoteD2, 200, 0},
{NoteD2, 200, 0},
{NoteD2, 167, 167},
{NoteD2, 197, 30},
{NoteD2, 197, 0},
{NoteD2, 197, 197},
{NoteD2, 197, 0},
{NoteD2, 197, 0},
{NoteD2, 199, 199},
{NoteD2, 199, 0},
{NoteD2, 199, 0},
{NoteD2, 234, 234},
{NoteD2, 234, 0},
{NoteD2, 265, 31},
{NoteDS4, 1014, 1014},
{NoteDS4, 1014, 0},
{NoteDS4, 1014, 0},
{NoteD4, 1011, 1011},
{NoteD4, 1011, 0},
{NoteD4, 1011, 0},
{NoteCS4, 435, 435},
{NoteCS4, 435, 0},
{NoteCS4, 511, 76},
{NoteCS4, 511, 0},
{NoteCS4, 511, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteCS5, 202, 202},
{NoteCS5, 202, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteD4, 506, 506},
{NoteD4, 506, 0},
{NoteD4, 567, 56},
{NoteD4, 234, 178},
{NoteD4, 234, 0},
{NoteD4, 234, 0},
{NoteD4, 200, 200},
{NoteD4, 200, 0},
{NoteD4, 200, 0},
{NoteD4, 167, 167},
{NoteD4, 197, 30},
{NoteD4, 197, 0},
{NoteE5, 202, 202},
{NoteE5, 202, 0},
{NoteE5, 197, 197},
{NoteE5, 197, 0},
{NoteE5, 167, 167},
{NoteE5, 197, 30},
{NoteB2, 435, 435},
{NoteFS4, 200, 200},
{NoteFS4, 200, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteCS5, 202, 202},
{NoteCS5, 202, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteFS4, 199, 199},
{NoteFS4, 199, 0},
{NoteE3, 2064, 2064},
{NoteE3, 2064, 0},
{NoteE3, 2064, 0},
{NoteE3, 2064, 0},
{NoteD3, 400, 400},
{NoteD3, 400, 0},
{NoteD3, 400, 0},
{NoteD3, 400, 0},
{NoteE3, 511, 511},
{NoteG4, 477, 477},
{NoteG4, 1049, 30},
{NoteB3, 197, 197},
{NoteB3, 474, 277},
{NoteA2, 989, 989},
{NoteA2, 989, 0},
{NoteCS4, 197, 197},
{NoteCS4, 197, 0},
{NoteCS4, 474, 277},
{NoteG4, 474, 474},
{NoteCS4, 476, 476},
{NoteD3, 511, 511},
{NoteFS4, 477, 477},
{NoteFS4, 1049, 30},
{NoteA3, 197, 197},
{NoteA3, 474, 277},
{NoteG2, 989, 989},
{NoteG2, 989, 0},
{NoteB3, 197, 197},
{NoteB3, 197, 0},
{NoteB3, 474, 277},
{NoteD4, 474, 474},
{NoteB3, 476, 476},
{NoteE3, 234, 234},
{NoteE3, 234, 0},
{NoteE3, 234, 0},
{NoteE3, 234, 0},
{NoteE3, 200, 200},
{NoteE3, 200, 0},
{NoteE3, 200, 0},
{NoteE3, 200, 0},
{NoteE3, 167, 167},
{NoteE3, 197, 30},
{NoteE3, 197, 0},
{NoteE3, 228, 31},
{NoteD3, 567, 56},
{NoteD3, 567, 0},
{NoteD3, 321, 265},
{NoteD3, 321, 0},
{NoteGS3, 568, 60},
{NoteGS3, 568, 0},
{NoteGS3, 284, 224},
{NoteGS3, 284, 0},
{NoteG4, 570, 60},
{NoteG4, 570, 0},
{NoteG4, 289, 229},
{NoteG4, 289, 0},
{NoteAS3, 1054, 39},
{NoteE3, 1051, 35},
{NoteE3, 1049, 1014},
{NoteG3, 474, 474},
{NoteG3, 504, 30},
{NoteB2, 1615, 60},
{NoteB3, 570, 60},
{NoteB3, 989, 419},
{NoteG3, 1516, 1516},
{NoteG3, 1516, 0},
{NoteA2, 511, 511},
{NoteG3, 3035, 462},
{NoteA3, 1012, 504},
{NoteA3, 1012, 0},
{NoteE3, 565, 60},
{NoteB3, 570, 60},
{NoteFS4, 570, 60},
{NoteFS4, 1524, 444},
{NoteCS4, 1049, 39},
{NoteCS4, 1011, 467},
{NoteCS4, 1011, 0},
{NoteCS4, 1011, 0},
{NoteD3, 567, 56},
{NoteD3, 1049, 993},
{NoteA3, 474, 474},
{NoteA3, 504, 30},
{NoteA2, 1615, 60},
{NoteB3, 570, 60},
{NoteB3, 989, 419},
{NoteA3, 1009, 1009},
{NoteA3, 1009, 0},
{NoteCS3, 476, 476},
{NoteD3, 511, 511},
{NoteA3, 1012, 1012},
{NoteA3, 1012, 0},
{NoteA2, 4095, 509},
{NoteB3, 1524, 1014},
{NoteA3, 1054, 39},
{NoteA3, 1011, 972},
{NoteA3, 1011, 0},
{NoteFS2, 1051, 35},
{NoteFS2, 1049, 1014},
{NoteB3, 474, 474},
{NoteB3, 504, 30},
{NoteCS3, 1615, 60},
{NoteCS4, 570, 60},
{NoteCS4, 1019, 449},
{NoteAS3, 1009, 1009},
{NoteAS3, 1009, 0},
{NoteF2, 476, 476},
{NoteFS2, 511, 511},
{NoteAS3, 3080, 507},
{NoteCS4, 1012, 504},
{NoteCS4, 1012, 0},
{NoteCS2, 565, 60},
{NoteCS4, 570, 60},
{NoteGS4, 570, 60},
{NoteGS4, 1524, 444},
{NoteDS4, 1049, 39},
{NoteDS4, 1011, 467},
{NoteDS4, 1011, 0},
{NoteFS2, 567, 56},
{NoteFS2, 1049, 993},
{NoteA3, 474, 474},
{NoteA3, 504, 30},
{NoteB2, 1615, 60},
{NoteB3, 570, 60},
{NoteB3, 989, 419},
{NoteA3, 1474, 964},
{NoteCS4, 1516, 506},
{NoteCS4, 1516, 0},
{NoteE2, 567, 56},
{NoteE2, 321, 265},
{NoteA4, 398, 398},
{NoteA4, 398, 0},
{NoteD4, 479, 479},
{NoteD4, 2064, 30},
{NoteB3, 202, 202},
{NoteB3, 202, 0},
{NoteB3, 202, 0},
{NoteB3, 202, 0},
{NoteB3, 197, 197},
{NoteB3, 197, 0},
{NoteB3, 197, 0},
{NoteB3, 197, 0},
{NoteB3, 397, 397},
{NoteB3, 397, 0},
{NoteB3, 397, 0},
{NoteB3, 397, 0},
{NoteB2, 429, 429},
{NoteB2, 429, 0},
{NoteB2, 429, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteCS5, 202, 202},
{NoteCS5, 202, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteFS4, 199, 199},
{NoteFS4, 199, 0},
{NoteGS3, 234, 234},
{NoteGS3, 234, 0},
{NoteGS3, 200, 200},
{NoteGS3, 200, 0},
{NoteGS3, 197, 197},
{NoteGS3, 197, 0},
{NoteFS3, 567, 56},
{NoteFS3, 567, 0},
{NoteFS3, 234, 178},
{NoteFS3, 390, 156},
{NoteFS4, 609, 67},
{NoteFS4, 200, 133},
{NoteFS4, 200, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteCS5, 202, 202},
{NoteCS5, 202, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteFS4, 199, 199},
{NoteFS4, 199, 0},
{NoteGS3, 1554, 1554},
{NoteGS3, 1554, 0},
{NoteGS3, 1554, 0},
{NoteGS3, 1554, 0},
{NoteG3, 479, 479},
{NoteG3, 479, 0},
{NoteG3, 479, 0},
{NoteG3, 509, 30},
{NoteFS3, 400, 400},
{NoteFS3, 400, 0},
{NoteFS3, 400, 0},
{NoteFS3, 400, 0},
{NoteA2, 234, 234},
{NoteA2, 234, 0},
{NoteE4, 167, 167},
{NoteE4, 197, 30},
{NoteE4, 197, 0},
{NoteFS4, 202, 202},
{NoteE3, 197, 197},
{NoteE3, 197, 0},
{NoteGS3, 199, 199},
{NoteGS3, 199, 0},
{NoteE4, 200, 200},
{NoteE4, 200, 0},
{NoteE4, 200, 0},
{NoteFS3, 570, 60},
{NoteFS3, 570, 0},
{NoteFS3, 434, 374},
{NoteFS3, 434, 0},
{NoteCS4, 197, 197},
{NoteCS4, 197, 0},
{NoteD2, 234, 234},
{NoteD2, 234, 0},
{NoteD2, 234, 0},
{NoteD2, 200, 200},
{NoteD2, 200, 0},
{NoteD2, 200, 0},
{NoteD2, 167, 167},
{NoteD2, 197, 30},
{NoteD2, 197, 0},
{NoteD2, 197, 197},
{NoteD2, 197, 0},
{NoteD2, 197, 0},
{NoteD2, 199, 199},
{NoteD2, 199, 0},
{NoteD2, 199, 0},
{NoteD2, 234, 234},
{NoteD2, 234, 0},
{NoteD2, 265, 31},
{NoteDS4, 1014, 1014},
{NoteDS4, 1014, 0},
{NoteDS4, 1014, 0},
{NoteD4, 1011, 1011},
{NoteD4, 1011, 0},
{NoteD4, 1011, 0},
{NoteCS4, 435, 435},
{NoteCS4, 435, 0},
{NoteCS4, 511, 76},
{NoteCS4, 511, 0},
{NoteCS4, 511, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteCS5, 202, 202},
{NoteCS5, 202, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteD4, 506, 506},
{NoteD4, 506, 0},
{NoteD4, 567, 56},
{NoteD4, 234, 178},
{NoteD4, 234, 0},
{NoteD4, 234, 0},
{NoteD4, 200, 200},
{NoteD4, 200, 0},
{NoteD4, 200, 0},
{NoteD4, 167, 167},
{NoteD4, 197, 30},
{NoteD4, 197, 0},
{NoteE5, 202, 202},
{NoteE5, 202, 0},
{NoteE5, 197, 197},
{NoteE5, 197, 0},
{NoteE5, 167, 167},
{NoteE5, 197, 30},
{NoteB2, 435, 435},
{NoteFS4, 200, 200},
{NoteFS4, 200, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteCS5, 202, 202},
{NoteCS5, 202, 0},
{NoteA4, 197, 197},
{NoteA4, 197, 0},
{NoteFS4, 199, 199},
{NoteFS4, 199, 0},
{NoteE3, 2064, 2064},
{NoteE3, 2064, 0},
{NoteE3, 2064, 0},
{NoteE3, 2064, 0},
{NoteD3, 400, 400},
{NoteD3, 400, 0},
{NoteD3, 400, 0},
{NoteD3, 400, 0},
{NoteE3, 511, 511},
{NoteG4, 477, 477},
{NoteG4, 1049, 30},
{NoteB3, 197, 197},
{NoteB3, 474, 277},
{NoteA2, 989, 989},
{NoteA2, 989, 0},
{NoteCS4, 197, 197},
{NoteCS4, 197, 0},
{NoteCS4, 474, 277},
{NoteG4, 474, 474},
{NoteCS4, 476, 476},
{NoteD3, 511, 511},
{NoteFS4, 477, 477},
{NoteFS4, 1049, 30},
{NoteA3, 197, 197},
{NoteA3, 474, 277},
{NoteG2, 989, 989},
{NoteG2, 989, 0},
{NoteB3, 197, 197},
{NoteB3, 197, 0},
{NoteB3, 474, 277},
{NoteD4, 474, 474},
{NoteB3, 476, 476},
{NoteE3, 234, 234},
{NoteE3, 234, 0},
{NoteE3, 234, 0},
{NoteE3, 234, 0},
{NoteE3, 200, 200},
{NoteE3, 200, 0},
{NoteE3, 200, 0},
{NoteE3, 200, 0},
{NoteE3, 167, 167},
{NoteE3, 197, 30},
{NoteE3, 197, 0},
{NoteE3, 228, 31},
{NoteD3, 567, 56},
{NoteD3, 567, 0},
{NoteD3, 321, 265},
{NoteD3, 321, 0},
{NoteGS3, 568, 60},
{NoteGS3, 568, 0},
{NoteGS3, 284, 224},
{NoteGS3, 284, 0},
{NoteG4, 570, 60},
{NoteG4, 570, 0},
{NoteG4, 289, 229},
{NoteG4, 289, 0},
{NoteAS3, 1054, 39},
{NoteE3, 1051, 35},
{NoteE3, 1049, 1014},
{NoteG3, 474, 474},
{NoteG3, 504, 30},
{NoteB2, 1615, 60},
{NoteB3, 570, 60},
{NoteB3, 989, 419},
{NoteG3, 1516, 1516},
{NoteG3, 1516, 0},
{NoteA2, 511, 511},
{NoteG3, 3035, 462},
{NoteA3, 1012, 504},
{NoteA3, 1012, 0},
{NoteE3, 565, 60},
{NoteB3, 570, 60},
{NoteFS4, 570, 60},
{NoteFS4, 1524, 444},
{NoteCS4, 1049, 39},
{NoteCS4, 1011, 467},
{NoteCS4, 1011, 0},
{NoteCS4, 1011, 0},
{NoteD3, 567, 56},
{NoteD3, 1049, 993},
{NoteA3, 474, 474},
{NoteA3, 504, 30},
{NoteA2, 1615, 60},
{NoteB3, 570, 60},
{NoteB3, 989, 419},
{NoteA3, 1009, 1009},
{NoteA3, 1009, 0},
{NoteCS3, 476, 476},
{NoteD3, 511, 511},
{NoteA3, 1012, 1012},
{NoteA3, 1012, 0},
{NoteA2, 4095, 509},
{NoteB3, 1524, 1014},
{NoteA3, 1054, 39},
{NoteA3, 1011, 972},
{NoteA3, 1011, 0},
{NoteFS2, 1051, 35},
{NoteFS2, 1049, 1014},
{NoteB3, 474, 474},
{NoteB3, 504, 30},
{NoteCS3, 1615, 60},
{NoteCS4, 570, 60},
{NoteCS4, 1019, 449},
{NoteAS3, 1009, 1009},
{NoteAS3, 1009, 0},
{NoteF2, 476, 476},
{NoteFS2, 511, 511},
{NoteAS3, 3080, 507},
{NoteCS4, 1012, 504},
{NoteCS4, 1012, 0},
{NoteCS2, 565, 60},
{NoteCS4, 570, 60},
{NoteGS4, 570, 60},
{NoteGS4, 1524, 444},
{NoteDS4, 1049, 39},
{NoteDS4, 1011, 467},
{NoteDS4, 1011, 0},
{NoteFS2, 567, 56},
{NoteFS2, 1049, 993},
{NoteA3, 474, 474},
{NoteA3, 504, 30},
{NoteB2, 1615, 60},
{NoteB3, 570, 60},
{NoteB3, 989, 419},
{NoteA3, 1474, 964},
{NoteCS4, 1516, 506},
{NoteCS4, 1516, 0},
{NoteE2, 567, 56},
{NoteE2, 321, 265},
{NoteA4, 398, 398},
{NoteA4, 398, 0},
{NoteD4, 479, 479},
{NoteD4, 2064, 30},
{NoteB3, 202, 202},
{NoteB3, 202, 0},
{NoteB3, 202, 0},
{NoteB3, 202, 0},
{NoteB3, 197, 197},
{NoteB3, 197, 0},
{NoteB3, 197, 0},
{NoteB3, 197, 0},
{NoteB3, 397, 397},
{NoteB3, 397, 0},
{NoteB3, 397, 0},
{NoteB3, 397, 0},
};